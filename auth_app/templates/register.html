{% if messages %}
  <div class="alert alert-danger">
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  </div>
{% endif %}

<!-- auth_app/templates/login.html -->
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro - EduConnect+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #0d6efd, #6c63ff);
      height: 100vh;
      display: flex;
      align-items: flex-start; /* üëà ahora empieza arriba */
      justify-content: center;
      padding: 40px 0; /* espacio arriba y abajo */
      overflow-y: auto; /* permite scroll si es necesario */
      
    }
    .card {
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      padding: 2rem;
      background: #fff;
      width: 100%;
      max-width: 450px;
    }
    .btn-primary {
      border-radius: 25px;
      padding: 10px;
      background-color: #0d6efd;
      border: none;
      transition: 0.3s;
    }
    .btn-primary:hover {
      background-color: #004aad;
    }
    .form-label {
      font-weight: 500;
    }
  </style>
</head>
<body>
  <div class="card">
    <h3 class="text-center mb-4 text-primary">Crear Cuenta</h3>
    <form method="post">
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label">Usuario</label>
        <input type="text" name="username" class="form-control" placeholder="Ej. Juan23" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Contrase√±a</label>
        <input type="password" name="password1" class="form-control" placeholder="********" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Confirmar Contrase√±a</label>
        <input type="password" name="password2" class="form-control" placeholder="********" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Nombre</label>
        <input type="text" name="nombre" class="form-control" placeholder="Ej. Juan" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Apellido</label>
        <input type="text" name="apellido" class="form-control" placeholder="Ej. P√©rez" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" name="email" class="form-control" placeholder="correo@ejemplo.com" required>
      </div>

            <div class="mb-3">
        <label class="form-label">Fecha de nacimiento</label>
        <input type="date" name="fecha_nacimiento" class="form-control" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Tel√©fono</label>
        <input type="tel" name="telefono" class="form-control" placeholder="Ej. 3312345678" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Instituci√≥n</label>
        <input type="text" name="institucion" class="form-control" placeholder="Ej. UDG Virtual">
      </div>

      <div class="mb-3" id="grado-academico-field">
        <label class="form-label">Grado Acad√©mico</label>
        <select class="form-select" name="grado">
          <option value="" disabled selected>Selecciona tu semestre</option>
          <option value="1er semestre">1er semestre</option>
          <option value="2do semestre">2do semestre</option>
          <option value="3er semestre">3er semestre</option>
          <option value="4to semestre">4to semestre</option>
          <option value="5to semestre">5to semestre</option>
          <option value="6to semestre">6to semestre</option>
          <option value="7mo semestre">7mo semestre</option>
          <option value="8vo semestre">8vo semestre</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Rol</label>
        <select class="form-select" name="rol" id="rol" required>
          <option value="estudiante" selected>Estudiante</option>
          <option value="profesor">Profesor</option>
          <option value="mentor">Mentor</option>
        </select>
      </div>

    <script>
  const rolSelect = document.getElementById("rol");
  const gradoField = document.getElementById("grado-academico-field");

  function toggleGradoField() {
    if (rolSelect.value === "estudiante") {
      gradoField.style.display = "block";
    } else {
      gradoField.style.display = "none";
    }
  }

  // Ejecutar al cargar la p√°gina
  toggleGradoField();

  // Escuchar cambios en el select de rol
  rolSelect.addEventListener("change", toggleGradoField);
</script>
  
      <button type="submit" class="btn btn-primary w-100">Registrarse</button>
      <p class="mt-3 text-center">¬øYa tienes cuenta? 
        <a href="{% url 'login' %}">Inicia sesi√≥n</a>
      </p>
    </form>
  </div>
</body>
</html>