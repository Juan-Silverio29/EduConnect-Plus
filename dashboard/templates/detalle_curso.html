{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle del Curso - {{ curso.nombre }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: #f8faff;
      font-family: 'Segoe UI', sans-serif;
    }

    .header {
      background: linear-gradient(135deg, #0d6efd, #4361ee);
      color: white;
      padding: 25px;
      border-radius: 10px;
      margin-bottom: 25px;
      text-align: center;
    }

    .section-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 25px;
      margin-bottom: 25px;
    }

    .btn-back {
      background-color: #6c757d;
      color: #fff;
      border: none;
      border-radius: 10px;
      padding: 10px 20px;
      text-decoration: none;
      transition: 0.2s;
    }

    .btn-back:hover { background-color: #495057; color: #fff; }

    table th {
      background-color: #0d6efd;
      color: white;
      text-align: center;
    }

    table td {
      text-align: center;
      vertical-align: middle;
    }

  </style>
</head>
<body>
  <div class="container mt-4">

    <!-- Encabezado -->
    <div class="header">
      <h2>üìò {{ curso.nombre }}</h2>
      <p>{{ curso.descripcion }}</p>
      <span class="badge bg-light text-dark">Categor√≠a: {{ curso.categoria }}</span>
    </div>

    <!-- Alumnos inscritos -->
    <div class="section-card">
      <h4>üë®‚Äçüéì Alumnos inscritos</h4>
      {% if alumnos %}
      <table class="table table-striped mt-3">
        <thead>
          <tr>
            <th>#</th>
            <th>Nombre</th>
            <th>Correo electr√≥nico</th>
            <th>Fecha de inscripci√≥n</th>
          </tr>
        </thead>
        <tbody>
          {% for inscripcion in alumnos %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ inscripcion.alumno.first_name }} {{ inscripcion.alumno.last_name }}</td>
            <td>{{ inscripcion.alumno.email }}</td>
            <td>{{ inscripcion.fecha_inscripcion|date:"d/m/Y H:i" }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
        <p class="text-muted">No hay alumnos inscritos en este curso.</p>
      {% endif %}
    </div>

    <!-- Materiales del curso -->
    <div class="section-card">
      <h4>üìÇ Materiales del curso</h4>
      {% if materiales %}
      <ul class="list-group mt-2">
        {% for mat in materiales %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ mat.titulo }}
            {% if mat.archivo %}
              <a href="{{ mat.archivo.url }}" class="btn btn-primary btn-sm" target="_blank">üìÑ Ver</a>
            {% elif mat.enlace %}
              <a href="{{ mat.enlace }}" class="btn btn-primary btn-sm" target="_blank">üîó Enlace</a>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
      {% else %}
        <p class="text-muted">A√∫n no hay materiales en este curso.</p>
      {% endif %}
    </div>

    <!-- Volver -->
    <div class="text-center mt-3">
      <a href="{% url 'dashboard:profesor_cursos' %}" class="btn-back">‚¨Ö Volver al listado de cursos</a>
    </div>

  </div>
</body>
</html>
